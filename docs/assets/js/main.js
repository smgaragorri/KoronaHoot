"use strict";const selectNameArray=document.querySelectorAll(".select-btn"),winner1=document.querySelector(".js-select1"),winner2=document.querySelector(".js-select2"),winner3=document.querySelector(".js-select3"),btnSubmit=document.querySelector(".js-btn"),stickerList=document.querySelector(".js-sticker-list");let adalabers;function getApiData(){fetch("https://api.myjson.com/bins/jbptk").then((function(e){return e.json()})).then((function(e){adalabers=e,createSelect(adalabers),paintNames()}))}function putData(){fetch("https://api.myjson.com/bins/jbptk",{method:"PUT",mode:"cors",redirect:"follow",body:JSON.stringify(adalabers),headers:new Headers({"Content-Type":"application/json; charset=utf-8"})}).then((function(e){console.log(e)}))}function paintAdalabersNames(e){for(const t of adalabers){const n=document.createElement("option"),a=document.createTextNode(`${t.name}`);n.value=t.id,n.appendChild(a),e.appendChild(n)}}function createSelect(){for(const e of selectNameArray)paintAdalabersNames(e)}function saveResults(){const e=winner1.value,t=winner2.value,n=winner3.value;adalabers[e].quantity+=1,adalabers[n].quantity+=1,adalabers[t].quantity+=1,putData(),paintNames()}function paintNames(){stickerList.innerHTML="";for(const e of adalabers)if(0!==e.quantity){const t=document.createElement("li");stickerList.appendChild(t),t.setAttribute("class","section-list-el");const n=document.createTextNode(`Pegatinas para ${e.name}: ${e.quantity}`);t.appendChild(n)}}getApiData(),btnSubmit.addEventListener("click",saveResults);